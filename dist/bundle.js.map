{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;AAAA;;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAIA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;;AAAA;AAAA;AAAA;AAAA;AAEA;;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://immobilienscout24extension/./src/api.js","webpack://immobilienscout24extension/webpack/bootstrap","webpack://immobilienscout24extension/webpack/runtime/define property getters","webpack://immobilienscout24extension/webpack/runtime/hasOwnProperty shorthand","webpack://immobilienscout24extension/webpack/runtime/make namespace object","webpack://immobilienscout24extension/./src/background.js"],"sourcesContent":["'use strict';\n\n\nexport async function fetchData() {\n    const response = await fetch('https://jsonplaceholder.typicode.com/posts');\n    const data = await response.json();\n    return data;\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// background.js\n'use strict';\n\nimport { fetchData } from './api.js';\n\n\n// Function to execute the code interacting with DOM elements\nasync function openImmoSearch() {\n    try {\n        const searchLink = \"https://www.immobilienscout24.de/Suche/de/berlin/berlin/wohnung-mieten?haspromotion=false&numberofrooms=2.0-&price=-1000.0&livingspace=50.0-&exclusioncriteria=swapflat&pricetype=rentpermonth&enteredFrom=saved_search\";\n        // Send a message to the background script to open the search link in a new tab\n        chrome.tabs.create({ url: searchLink });\n    } catch (error) {\n        console.error(\"Error opening Immo Search:\", error);\n    }\n}\nasync function takeScreenshot() {\n    try {\n        chrome.tabs.captureVisibleTab(null, {}, async function (imageUrl) {\n            // forward the image to the content script\n            await sendMessageToActiveTab({ action: \"Recognize\", imageUrl: imageUrl });\n        });\n    } catch (error) {\n        console.error(\"Error taking screenshot:\", error);\n    }\n}\n\nchrome.runtime.onMessage.addListener(async function (message, sender, sendResponse) {\n    if (message.action === \"takeScreenshot\") {\n        console.log(\"Taking screenshot\");\n        // Proceed with taking screenshot\n        try {\n            await takeScreenshot();\n        } catch (error) {\n            console.error(\"Error handling message:\", error);\n            sendResponse({ success: false, error: error.message }); // Sending error response back to the sender\n        }\n    }\n    else if (message.action === \"nextPage\") {\n        // Proceed with opening next page\n        try {\n            console.log(\"Opening next page number: \", message.number, \"Link: \", message.link);\n             await sendMessageToActiveTab({ action: \"Apply\" });\n             sendResponse({ success: true }); // Sending error response back to the sender\n\n        } catch (error) {\n            console.error(\"Error handling message:\", error);\n            sendResponse({ success: false, error: error.message }); // Sending error response back to the sender\n        }\n    }\n\n    else if (message.action === \"Search\") {\n        console.log(\"Opening Immo Search\");\n        await openImmoSearch();\n    }\n\n    else if (message.action === \"fetchData\") {\n        console.log(\"Fetching data\");\n        try {\n            const Data = await fetchData();\n            console.log(\"Data received:\", Data);\n            sendResponse({ success: true }); // Sending response back to the sender\n        } catch (error) {\n            console.error(\"Error fetching data:\", error);\n            sendResponse({ success: false, error: error.message }); // Sending error response back to the sender\n        }\n    }\n    return true; // Indicate that we will send a response asynchronously\n\n});\n\nchrome.runtime.onInstalled.addListener(({ reason }) => {\n    if (reason === chrome.runtime.OnInstalledReason.INSTALL) {\n        showReadme();\n    }\n});\n\nchrome.action.onClicked.addListener(() => {\n    showReadme();\n});\n\nfunction showReadme() {\n    chrome.tabs.create({ url: './html/index.html' });\n}\n\nasync function sendMessageToActiveTab(message) {\n    try {\n        const tab = await chrome.tabs.query({ active: true, currentWindow: true });\n        const response = await chrome.tabs.sendMessage(tab[0].id, message);\n        // do something with response here, not outside the function\n        console.log(response);\n    } catch (error) {\n        console.error(error);\n    }\n}\n\nfunction downloadImage(imageUrl, filename) {\n    chrome.downloads.download({\n        url: imageUrl,\n        filename: filename\n    });\n}"],"names":[],"sourceRoot":""}